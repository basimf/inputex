if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/inputex-calendar-week-number-plugin/inputex-calendar-week-number-plugin.js']) {
   __coverage__['build/inputex-calendar-week-number-plugin/inputex-calendar-week-number-plugin.js'] = {"path":"build/inputex-calendar-week-number-plugin/inputex-calendar-week-number-plugin.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":47},"end":{"line":1,"column":66}}},"2":{"name":"CalendarWeekNumber","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":29}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":29}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":45},"end":{"line":56,"column":57}}},"6":{"name":"(anonymous_6)","line":76,"loc":{"start":{"line":76,"column":17},"end":{"line":76,"column":29}}},"7":{"name":"(anonymous_7)","line":85,"loc":{"start":{"line":85,"column":31},"end":{"line":85,"column":47}}},"8":{"name":"(anonymous_8)","line":94,"loc":{"start":{"line":94,"column":22},"end":{"line":94,"column":34}}},"9":{"name":"(anonymous_9)","line":99,"loc":{"start":{"line":99,"column":27},"end":{"line":99,"column":43}}},"10":{"name":"(anonymous_10)","line":101,"loc":{"start":{"line":101,"column":48},"end":{"line":101,"column":63}}},"11":{"name":"(anonymous_11)","line":108,"loc":{"start":{"line":108,"column":26},"end":{"line":108,"column":51}}},"12":{"name":"(anonymous_12)","line":135,"loc":{"start":{"line":135,"column":26},"end":{"line":135,"column":38}}},"13":{"name":"(anonymous_13)","line":166,"loc":{"start":{"line":166,"column":19},"end":{"line":166,"column":60}}},"14":{"name":"(anonymous_14)","line":215,"loc":{"start":{"line":215,"column":15},"end":{"line":215,"column":31}}},"15":{"name":"(anonymous_15)","line":234,"loc":{"start":{"line":234,"column":13},"end":{"line":234,"column":32}}},"16":{"name":"(anonymous_16)","line":258,"loc":{"start":{"line":258,"column":23},"end":{"line":258,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":287,"column":3}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"3":{"start":{"line":13,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":69}},"5":{"start":{"line":26,"column":0},"end":{"line":26,"column":37}},"6":{"start":{"line":28,"column":0},"end":{"line":34,"column":2}},"7":{"start":{"line":31,"column":12},"end":{"line":31,"column":69}},"8":{"start":{"line":37,"column":0},"end":{"line":266,"column":3}},"9":{"start":{"line":48,"column":8},"end":{"line":48,"column":36}},"10":{"start":{"line":51,"column":8},"end":{"line":51,"column":105}},"11":{"start":{"line":54,"column":8},"end":{"line":66,"column":9}},"12":{"start":{"line":56,"column":12},"end":{"line":60,"column":15}},"13":{"start":{"line":57,"column":16},"end":{"line":57,"column":84}},"14":{"start":{"line":58,"column":16},"end":{"line":58,"column":40}},"15":{"start":{"line":59,"column":16},"end":{"line":59,"column":40}},"16":{"start":{"line":63,"column":12},"end":{"line":63,"column":80}},"17":{"start":{"line":64,"column":12},"end":{"line":64,"column":36}},"18":{"start":{"line":65,"column":12},"end":{"line":65,"column":36}},"19":{"start":{"line":78,"column":8},"end":{"line":78,"column":38}},"20":{"start":{"line":80,"column":8},"end":{"line":91,"column":9}},"21":{"start":{"line":82,"column":12},"end":{"line":83,"column":82}},"22":{"start":{"line":85,"column":12},"end":{"line":88,"column":15}},"23":{"start":{"line":86,"column":16},"end":{"line":86,"column":71}},"24":{"start":{"line":87,"column":16},"end":{"line":87,"column":64}},"25":{"start":{"line":90,"column":12},"end":{"line":90,"column":83}},"26":{"start":{"line":96,"column":8},"end":{"line":97,"column":78}},"27":{"start":{"line":99,"column":8},"end":{"line":104,"column":11}},"28":{"start":{"line":100,"column":12},"end":{"line":100,"column":127}},"29":{"start":{"line":101,"column":12},"end":{"line":103,"column":15}},"30":{"start":{"line":102,"column":16},"end":{"line":102,"column":75}},"31":{"start":{"line":110,"column":8},"end":{"line":115,"column":52}},"32":{"start":{"line":118,"column":8},"end":{"line":118,"column":44}},"33":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"34":{"start":{"line":121,"column":12},"end":{"line":121,"column":37}},"35":{"start":{"line":124,"column":8},"end":{"line":126,"column":9}},"36":{"start":{"line":125,"column":12},"end":{"line":125,"column":30}},"37":{"start":{"line":128,"column":8},"end":{"line":128,"column":65}},"38":{"start":{"line":132,"column":8},"end":{"line":132,"column":46}},"39":{"start":{"line":135,"column":8},"end":{"line":146,"column":11}},"40":{"start":{"line":137,"column":12},"end":{"line":137,"column":110}},"41":{"start":{"line":140,"column":12},"end":{"line":140,"column":75}},"42":{"start":{"line":142,"column":12},"end":{"line":142,"column":49}},"43":{"start":{"line":145,"column":12},"end":{"line":145,"column":57}},"44":{"start":{"line":169,"column":8},"end":{"line":169,"column":45}},"45":{"start":{"line":170,"column":8},"end":{"line":170,"column":31}},"46":{"start":{"line":172,"column":8},"end":{"line":174,"column":22}},"47":{"start":{"line":176,"column":8},"end":{"line":180,"column":9}},"48":{"start":{"line":177,"column":12},"end":{"line":177,"column":37}},"49":{"start":{"line":179,"column":12},"end":{"line":179,"column":77}},"50":{"start":{"line":182,"column":8},"end":{"line":182,"column":50}},"51":{"start":{"line":185,"column":8},"end":{"line":185,"column":69}},"52":{"start":{"line":187,"column":8},"end":{"line":187,"column":20}},"53":{"start":{"line":188,"column":8},"end":{"line":205,"column":9}},"54":{"start":{"line":191,"column":12},"end":{"line":191,"column":24}},"55":{"start":{"line":195,"column":12},"end":{"line":196,"column":80}},"56":{"start":{"line":199,"column":12},"end":{"line":199,"column":102}},"57":{"start":{"line":202,"column":12},"end":{"line":202,"column":35}},"58":{"start":{"line":203,"column":12},"end":{"line":203,"column":47}},"59":{"start":{"line":204,"column":12},"end":{"line":204,"column":36}},"60":{"start":{"line":206,"column":8},"end":{"line":206,"column":23}},"61":{"start":{"line":216,"column":8},"end":{"line":216,"column":32}},"62":{"start":{"line":217,"column":8},"end":{"line":217,"column":20}},"63":{"start":{"line":235,"column":8},"end":{"line":235,"column":22}},"64":{"start":{"line":236,"column":8},"end":{"line":238,"column":9}},"65":{"start":{"line":237,"column":12},"end":{"line":237,"column":18}},"66":{"start":{"line":239,"column":8},"end":{"line":247,"column":9}},"67":{"start":{"line":240,"column":12},"end":{"line":240,"column":35}},"68":{"start":{"line":242,"column":12},"end":{"line":242,"column":28}},"69":{"start":{"line":243,"column":12},"end":{"line":243,"column":30}},"70":{"start":{"line":244,"column":12},"end":{"line":244,"column":27}},"71":{"start":{"line":245,"column":12},"end":{"line":245,"column":26}},"72":{"start":{"line":246,"column":12},"end":{"line":246,"column":33}},"73":{"start":{"line":248,"column":8},"end":{"line":248,"column":18}},"74":{"start":{"line":259,"column":8},"end":{"line":259,"column":39}},"75":{"start":{"line":260,"column":8},"end":{"line":261,"column":63}},"76":{"start":{"line":263,"column":8},"end":{"line":263,"column":46}},"77":{"start":{"line":268,"column":0},"end":{"line":268,"column":62}}},"branchMap":{"1":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":8}},{"start":{"line":54,"column":8},"end":{"line":54,"column":8}}]},"2":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"3":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":8},"end":{"line":120,"column":8}},{"start":{"line":120,"column":8},"end":{"line":120,"column":8}}]},"4":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"5":{"line":140,"type":"cond-expr","locations":[{"start":{"line":140,"column":47},"end":{"line":140,"column":55}},{"start":{"line":140,"column":58},"end":{"line":140,"column":60}}]},"6":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":25},"end":{"line":169,"column":39}},{"start":{"line":169,"column":43},"end":{"line":169,"column":44}}]},"7":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":18},"end":{"line":170,"column":25}},{"start":{"line":170,"column":29},"end":{"line":170,"column":30}}]},"8":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"9":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":8}},{"start":{"line":188,"column":8},"end":{"line":188,"column":8}}]},"10":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":12},"end":{"line":188,"column":49}},{"start":{"line":188,"column":53},"end":{"line":188,"column":83}}]},"11":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":8},"end":{"line":236,"column":8}},{"start":{"line":236,"column":8},"end":{"line":236,"column":8}}]},"12":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":8},"end":{"line":239,"column":8}},{"start":{"line":239,"column":8},"end":{"line":239,"column":8}}]},"13":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":22},"end":{"line":259,"column":33}},{"start":{"line":259,"column":37},"end":{"line":259,"column":38}}]}},"code":["(function () { YUI.add('inputex-calendar-week-number-plugin', function (Y, NAME) {","","// number representing one day, in milliseconds","var one_day_ms = 1000*60*60*24;","","/**"," * A plugin class which adds week numbers to Calendar."," *"," * @class CalendarWeekNumber"," * @extends Plugin.Base"," * @namespace Plugin"," */","function CalendarWeekNumber () {","    CalendarWeekNumber.superclass.constructor.apply(this, arguments);","}","","/**"," * The namespace for the plugin. This will be the property on the widget, which will"," * reference the plugin instance, when it's plugged in."," *"," * @property NS"," * @static"," * @type String"," * @default \"week_number\""," */","CalendarWeekNumber.NS = \"weekNumber\";","","CalendarWeekNumber.ATTRS = {","    strings: {","        valueFn: function () {","            return Y.Intl.get(\"inputex-calendar-week-number-plugin\");","        }","    }","};","","","Y.extend(CalendarWeekNumber, Y.Plugin.Base, {","    ","    /**","     * The initializer lifecycle implementation. Modifies the host widget's","     * render to add navigation controls.","     *","     * @method initializer","     * @param {Object} config The user configuration for the plugin","     */","    initializer: function () {","        ","        var host = this.get('host');","        ","        // re-render week numbers every time we re-render a calendar pane","        this._rerenderHandle = this.beforeHostMethod('_rerenderCalendarPane', this._rerenderWeekNumbers);","        ","        // render week numbers after the first rendering","        if (!host.get('rendered')) {","            ","            this.afterHostMethod('renderUI', function () {","                host.get('boundingBox').addClass('yui3-calendar-with-week-numbers');","                this._initWeekNumbers();","                host._afterDateChange();","            });","            ","        } else {","            host.get('boundingBox').addClass('yui3-calendar-with-week-numbers');","            this._initWeekNumbers();","            host._afterDateChange();","        }","        ","    },","    ","    /**","     * The initializer destructor implementation. Responsible for destroying the initialized","     * control mechanisms.","     *","     * @method destructor","     */","    destructor : function () {","        ","        this._rerenderHandle.detach();","        ","        if (this.get('host').get('rendered')) {","            ","            var host = this.get('host'),","                calendarPanes = host.get('contentBox').all(\".yui3-calendar-grid\");","            ","            calendarPanes.each(function (pane) {","                pane.all('.yui3-calendar-week-number-spacer').remove();","                pane.all('.yui3-calendar-week-number').remove();","            });","            ","            host.get('boundingBox').removeClass('yui3-calendar-with-week-numbers');","        }","    },","    ","    _initWeekNumbers: function () {","        ","        var host = this.get('host'),","            calendarPanes = host.get('contentBox').all(\".yui3-calendar-grid\");","            ","        calendarPanes.each(function (pane) {","            pane.one('.yui3-calendar-weekdayrow').prepend(Y.Node.create('<th class=\"yui3-calendar-week-number-spacer\"></th>'));","            pane.all('.yui3-calendar-row').each(function (row) {","                row.prepend('<th class=\"yui3-calendar-week-number\"></th>');","            });","        });","        ","    },","    ","    _rerenderWeekNumbers: function (newDate, pane) {","        ","        var plugin       = this,","            host         = plugin.get('host'),","            weekDayCells = pane.all(\".yui3-calendar-week-number\"),","            startDay     = host.get('strings.first_weekday'),","            workingDate  = newDate,","            preMonthDays, weekNumber, weekNumberStr;","            ","        // some computation to get the first date displayed (maybe from previous month)","        preMonthDays = workingDate.getDay();","        ","        if (startDay > 0) {","            preMonthDays -= startDay;","        }","        ","        if (preMonthDays < 0) {","            preMonthDays += 7;","        }","        ","        workingDate = Y.Date.addDays(workingDate, -preMonthDays);","        ","        // Hide the pane before making DOM changes to speed them up","        // NOTE: will be made visible again by _rerenderCalendarPane","        pane.setStyle(\"visibility\", \"hidden\");","        ","        // iterate over weekDay cells to fill them","        weekDayCells.each(function () {","            ","            weekNumber = plugin.getWeekNumber(workingDate, startDay, plugin.get('strings.week_one_jan_date'));","            ","            // format week number on 2 chars","            weekNumberStr = (weekNumber < 10 ? \"&nbsp;\" : \"\") + weekNumber;","            ","            this.set('innerHTML', weekNumberStr);","            ","            // next date","            workingDate = Y.Date.addDays(workingDate, 7);","        });","        ","    },","    ","    ","    /**","    * Calculates the week number for the given date. Can currently support standard","    * U.S. week numbers, based on Jan 1st defining the 1st week of the year, and","    * ISO8601 week numbers, based on Jan 4th defining the 1st week of the year.","    *","    * @method getWeekNumber","    * @param {Date} date The JavaScript date for which to find the week number","    * @param {Number} firstDayOfWeek The index of the first day of the week (0 = Sun, 1 = Mon ... 6 = Sat).","    * Defaults to 0","    * @param {Number} janDate The date in the first week of January which defines week one for the year","    * Defaults to the value of CalendarWeekNumber.WEEK_ONE_JAN_DATE, which is 1 (Jan 1st).","    * For the U.S, this is normally Jan 1st. ISO8601 uses Jan 4th to define the first week of the year.","    *","    * @return {Number} The number of the week containing the given date.","    */","    getWeekNumber: function (date, firstDayOfWeek, janDate) {","        ","        // Setup Defaults","        firstDayOfWeek = firstDayOfWeek || 0;","        janDate = janDate || 1;","        ","        var targetDate = this.clearTime(date),","            startOfWeek,","            endOfWeek;","            ","        if (targetDate.getDay() === firstDayOfWeek) {","            startOfWeek = targetDate;","        } else {","            startOfWeek = this.getFirstDayOfWeek(targetDate, firstDayOfWeek);","        }","        ","        var startYear = startOfWeek.getFullYear();","        ","        // DST shouldn't be a problem here, math is quicker than setDate();","        endOfWeek = new Date(startOfWeek.getTime() + 6 * one_day_ms);","        ","        var weekNum;","        if (startYear !== endOfWeek.getFullYear() && endOfWeek.getDate() >= janDate) {","            // If years don't match, endOfWeek is in Jan. and if the","            // week has WEEK_ONE_JAN_DATE in it, it's week one by definition.","            weekNum = 1;","        } else {","            // Get the 1st day of the 1st week, and","            // find how many days away we are from it.","            var weekOne = this.clearTime(this.getDate(startYear, 0, janDate)),","                weekOneDayOne = this.getFirstDayOfWeek(weekOne, firstDayOfWeek);","                ","            // Round days to smoothen out 1 hr DST diff","            var daysDiff  = Math.round((targetDate.getTime() - weekOneDayOne.getTime()) / one_day_ms);","            ","            // Calc. Full Weeks","            var rem = daysDiff % 7;","            var weeksDiff = (daysDiff - rem)/7;","            weekNum = weeksDiff + 1;","        }","        return weekNum;","    },","    ","    /**","    * Clears the time fields from a given date, effectively setting the time to 12 noon.","    * @method clearTime","    * @param {Date} date The JavaScript Date for which the time fields will be cleared","    * @return {Date}  The JavaScript Date cleared of all time fields","    */","    clearTime: function (date) {","        date.setHours(12,0,0,0);","        return date;","    },","    ","    /**","     * Returns a new JavaScript Date object, representing the given year, month and date. Time fields (hr, min, sec, ms) on the new Date object","     * are set to 0. The method allows Date instances to be created with the a year less than 100. \"new Date(year, month, date)\" implementations","     * set the year to 19xx if a year (xx) which is less than 100 is provided.","     * <p>","     * <em>NOTE:</em>Validation on argument values is not performed. It is the caller's responsibility to ensure","     * arguments are valid as per the ECMAScript-262 Date object specification for the new Date(year, month[, date]) constructor.","     * </p>","     * @method getDate","     * @param {Number} y Year.","     * @param {Number} m Month index from 0 (Jan) to 11 (Dec).","     * @param {Number} d (optional) Date from 1 to 31. If not provided, defaults to 1.","     * @return {Date} The JavaScript date object with year, month, date set as provided.","     */","    getDate: function (y, m, d) {","        var dt = null;","        if (typeof d === \"undefined\") {","            d = 1;","        }","        if (y >= 100) {","            dt = new Date(y, m, d);","        } else {","            dt = new Date();","            dt.setFullYear(y);","            dt.setMonth(m);","            dt.setDate(d);","            dt.setHours(0,0,0,0);","        }","        return dt;","    },","    ","    /**","     * Get the first day of the week, for the given date.","     * @method getFirstDayOfWeek","     * @param {Date} dt The date in the week for which the first day is required.","     * @param {Number} startOfWeek The index for the first day of the week, 0 = Sun, 1 = Mon ... 6 = Sat (defaults to 0)","     * @return {Date} The first day of the week","     */","    getFirstDayOfWeek: function (dt, startOfWeek) {","        startOfWeek = startOfWeek || 0;","        var dayOfWeekIndex = dt.getDay(),","            dayOfWeek = (dayOfWeekIndex - startOfWeek + 7) % 7;","            ","        return Y.Date.addDays(dt, -dayOfWeek);","    }","    ","});","","Y.namespace(\"Plugin\").CalendarWeekNumber = CalendarWeekNumber;","","}, '@VERSION@', {","    \"requires\": [","        \"plugin\",","        \"calendar\",","        \"datatype-date-math\"","    ],","    \"skinnable\": true,","    \"lang\": [","        \"en\",","        \"fr\",","        \"de\",","        \"es\",","        \"ca\",","        \"it\",","        \"nl\",","        \"pt-BR\"","    ]","});","","}());"]};
}
var __cov_B6f7nL09PDx$fcRWOlhVGw = __coverage__['build/inputex-calendar-week-number-plugin/inputex-calendar-week-number-plugin.js'];
__cov_B6f7nL09PDx$fcRWOlhVGw.s['1']++;YUI.add('inputex-calendar-week-number-plugin',function(Y,NAME){__cov_B6f7nL09PDx$fcRWOlhVGw.f['1']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['2']++;var one_day_ms=1000*60*60*24;__cov_B6f7nL09PDx$fcRWOlhVGw.s['3']++;function CalendarWeekNumber(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['2']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['4']++;CalendarWeekNumber.superclass.constructor.apply(this,arguments);}__cov_B6f7nL09PDx$fcRWOlhVGw.s['5']++;CalendarWeekNumber.NS='weekNumber';__cov_B6f7nL09PDx$fcRWOlhVGw.s['6']++;CalendarWeekNumber.ATTRS={strings:{valueFn:function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['3']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['7']++;return Y.Intl.get('inputex-calendar-week-number-plugin');}}};__cov_B6f7nL09PDx$fcRWOlhVGw.s['8']++;Y.extend(CalendarWeekNumber,Y.Plugin.Base,{initializer:function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['4']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['9']++;var host=this.get('host');__cov_B6f7nL09PDx$fcRWOlhVGw.s['10']++;this._rerenderHandle=this.beforeHostMethod('_rerenderCalendarPane',this._rerenderWeekNumbers);__cov_B6f7nL09PDx$fcRWOlhVGw.s['11']++;if(!host.get('rendered')){__cov_B6f7nL09PDx$fcRWOlhVGw.b['1'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['12']++;this.afterHostMethod('renderUI',function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['5']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['13']++;host.get('boundingBox').addClass('yui3-calendar-with-week-numbers');__cov_B6f7nL09PDx$fcRWOlhVGw.s['14']++;this._initWeekNumbers();__cov_B6f7nL09PDx$fcRWOlhVGw.s['15']++;host._afterDateChange();});}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['1'][1]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['16']++;host.get('boundingBox').addClass('yui3-calendar-with-week-numbers');__cov_B6f7nL09PDx$fcRWOlhVGw.s['17']++;this._initWeekNumbers();__cov_B6f7nL09PDx$fcRWOlhVGw.s['18']++;host._afterDateChange();}},destructor:function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['6']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['19']++;this._rerenderHandle.detach();__cov_B6f7nL09PDx$fcRWOlhVGw.s['20']++;if(this.get('host').get('rendered')){__cov_B6f7nL09PDx$fcRWOlhVGw.b['2'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['21']++;var host=this.get('host'),calendarPanes=host.get('contentBox').all('.yui3-calendar-grid');__cov_B6f7nL09PDx$fcRWOlhVGw.s['22']++;calendarPanes.each(function(pane){__cov_B6f7nL09PDx$fcRWOlhVGw.f['7']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['23']++;pane.all('.yui3-calendar-week-number-spacer').remove();__cov_B6f7nL09PDx$fcRWOlhVGw.s['24']++;pane.all('.yui3-calendar-week-number').remove();});__cov_B6f7nL09PDx$fcRWOlhVGw.s['25']++;host.get('boundingBox').removeClass('yui3-calendar-with-week-numbers');}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['2'][1]++;}},_initWeekNumbers:function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['8']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['26']++;var host=this.get('host'),calendarPanes=host.get('contentBox').all('.yui3-calendar-grid');__cov_B6f7nL09PDx$fcRWOlhVGw.s['27']++;calendarPanes.each(function(pane){__cov_B6f7nL09PDx$fcRWOlhVGw.f['9']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['28']++;pane.one('.yui3-calendar-weekdayrow').prepend(Y.Node.create('<th class="yui3-calendar-week-number-spacer"></th>'));__cov_B6f7nL09PDx$fcRWOlhVGw.s['29']++;pane.all('.yui3-calendar-row').each(function(row){__cov_B6f7nL09PDx$fcRWOlhVGw.f['10']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['30']++;row.prepend('<th class="yui3-calendar-week-number"></th>');});});},_rerenderWeekNumbers:function(newDate,pane){__cov_B6f7nL09PDx$fcRWOlhVGw.f['11']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['31']++;var plugin=this,host=plugin.get('host'),weekDayCells=pane.all('.yui3-calendar-week-number'),startDay=host.get('strings.first_weekday'),workingDate=newDate,preMonthDays,weekNumber,weekNumberStr;__cov_B6f7nL09PDx$fcRWOlhVGw.s['32']++;preMonthDays=workingDate.getDay();__cov_B6f7nL09PDx$fcRWOlhVGw.s['33']++;if(startDay>0){__cov_B6f7nL09PDx$fcRWOlhVGw.b['3'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['34']++;preMonthDays-=startDay;}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['3'][1]++;}__cov_B6f7nL09PDx$fcRWOlhVGw.s['35']++;if(preMonthDays<0){__cov_B6f7nL09PDx$fcRWOlhVGw.b['4'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['36']++;preMonthDays+=7;}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['4'][1]++;}__cov_B6f7nL09PDx$fcRWOlhVGw.s['37']++;workingDate=Y.Date.addDays(workingDate,-preMonthDays);__cov_B6f7nL09PDx$fcRWOlhVGw.s['38']++;pane.setStyle('visibility','hidden');__cov_B6f7nL09PDx$fcRWOlhVGw.s['39']++;weekDayCells.each(function(){__cov_B6f7nL09PDx$fcRWOlhVGw.f['12']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['40']++;weekNumber=plugin.getWeekNumber(workingDate,startDay,plugin.get('strings.week_one_jan_date'));__cov_B6f7nL09PDx$fcRWOlhVGw.s['41']++;weekNumberStr=(weekNumber<10?(__cov_B6f7nL09PDx$fcRWOlhVGw.b['5'][0]++,'&nbsp;'):(__cov_B6f7nL09PDx$fcRWOlhVGw.b['5'][1]++,''))+weekNumber;__cov_B6f7nL09PDx$fcRWOlhVGw.s['42']++;this.set('innerHTML',weekNumberStr);__cov_B6f7nL09PDx$fcRWOlhVGw.s['43']++;workingDate=Y.Date.addDays(workingDate,7);});},getWeekNumber:function(date,firstDayOfWeek,janDate){__cov_B6f7nL09PDx$fcRWOlhVGw.f['13']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['44']++;firstDayOfWeek=(__cov_B6f7nL09PDx$fcRWOlhVGw.b['6'][0]++,firstDayOfWeek)||(__cov_B6f7nL09PDx$fcRWOlhVGw.b['6'][1]++,0);__cov_B6f7nL09PDx$fcRWOlhVGw.s['45']++;janDate=(__cov_B6f7nL09PDx$fcRWOlhVGw.b['7'][0]++,janDate)||(__cov_B6f7nL09PDx$fcRWOlhVGw.b['7'][1]++,1);__cov_B6f7nL09PDx$fcRWOlhVGw.s['46']++;var targetDate=this.clearTime(date),startOfWeek,endOfWeek;__cov_B6f7nL09PDx$fcRWOlhVGw.s['47']++;if(targetDate.getDay()===firstDayOfWeek){__cov_B6f7nL09PDx$fcRWOlhVGw.b['8'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['48']++;startOfWeek=targetDate;}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['8'][1]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['49']++;startOfWeek=this.getFirstDayOfWeek(targetDate,firstDayOfWeek);}__cov_B6f7nL09PDx$fcRWOlhVGw.s['50']++;var startYear=startOfWeek.getFullYear();__cov_B6f7nL09PDx$fcRWOlhVGw.s['51']++;endOfWeek=new Date(startOfWeek.getTime()+6*one_day_ms);__cov_B6f7nL09PDx$fcRWOlhVGw.s['52']++;var weekNum;__cov_B6f7nL09PDx$fcRWOlhVGw.s['53']++;if((__cov_B6f7nL09PDx$fcRWOlhVGw.b['10'][0]++,startYear!==endOfWeek.getFullYear())&&(__cov_B6f7nL09PDx$fcRWOlhVGw.b['10'][1]++,endOfWeek.getDate()>=janDate)){__cov_B6f7nL09PDx$fcRWOlhVGw.b['9'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['54']++;weekNum=1;}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['9'][1]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['55']++;var weekOne=this.clearTime(this.getDate(startYear,0,janDate)),weekOneDayOne=this.getFirstDayOfWeek(weekOne,firstDayOfWeek);__cov_B6f7nL09PDx$fcRWOlhVGw.s['56']++;var daysDiff=Math.round((targetDate.getTime()-weekOneDayOne.getTime())/one_day_ms);__cov_B6f7nL09PDx$fcRWOlhVGw.s['57']++;var rem=daysDiff%7;__cov_B6f7nL09PDx$fcRWOlhVGw.s['58']++;var weeksDiff=(daysDiff-rem)/7;__cov_B6f7nL09PDx$fcRWOlhVGw.s['59']++;weekNum=weeksDiff+1;}__cov_B6f7nL09PDx$fcRWOlhVGw.s['60']++;return weekNum;},clearTime:function(date){__cov_B6f7nL09PDx$fcRWOlhVGw.f['14']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['61']++;date.setHours(12,0,0,0);__cov_B6f7nL09PDx$fcRWOlhVGw.s['62']++;return date;},getDate:function(y,m,d){__cov_B6f7nL09PDx$fcRWOlhVGw.f['15']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['63']++;var dt=null;__cov_B6f7nL09PDx$fcRWOlhVGw.s['64']++;if(typeof d==='undefined'){__cov_B6f7nL09PDx$fcRWOlhVGw.b['11'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['65']++;d=1;}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['11'][1]++;}__cov_B6f7nL09PDx$fcRWOlhVGw.s['66']++;if(y>=100){__cov_B6f7nL09PDx$fcRWOlhVGw.b['12'][0]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['67']++;dt=new Date(y,m,d);}else{__cov_B6f7nL09PDx$fcRWOlhVGw.b['12'][1]++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['68']++;dt=new Date();__cov_B6f7nL09PDx$fcRWOlhVGw.s['69']++;dt.setFullYear(y);__cov_B6f7nL09PDx$fcRWOlhVGw.s['70']++;dt.setMonth(m);__cov_B6f7nL09PDx$fcRWOlhVGw.s['71']++;dt.setDate(d);__cov_B6f7nL09PDx$fcRWOlhVGw.s['72']++;dt.setHours(0,0,0,0);}__cov_B6f7nL09PDx$fcRWOlhVGw.s['73']++;return dt;},getFirstDayOfWeek:function(dt,startOfWeek){__cov_B6f7nL09PDx$fcRWOlhVGw.f['16']++;__cov_B6f7nL09PDx$fcRWOlhVGw.s['74']++;startOfWeek=(__cov_B6f7nL09PDx$fcRWOlhVGw.b['13'][0]++,startOfWeek)||(__cov_B6f7nL09PDx$fcRWOlhVGw.b['13'][1]++,0);__cov_B6f7nL09PDx$fcRWOlhVGw.s['75']++;var dayOfWeekIndex=dt.getDay(),dayOfWeek=(dayOfWeekIndex-startOfWeek+7)%7;__cov_B6f7nL09PDx$fcRWOlhVGw.s['76']++;return Y.Date.addDays(dt,-dayOfWeek);}});__cov_B6f7nL09PDx$fcRWOlhVGw.s['77']++;Y.namespace('Plugin').CalendarWeekNumber=CalendarWeekNumber;},'@VERSION@',{'requires':['plugin','calendar','datatype-date-math'],'skinnable':true,'lang':['en','fr','de','es','ca','it','nl','pt-BR']});
